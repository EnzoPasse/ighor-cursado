<h2>Normalizaci√≥n: <small>Barrios</small></h2>
<hr>

<div id="accordion1" role="tablist" aria-multiselectable="true">
  <div class="card">
    <div class="card-header" role="tab" id="headingOne1">
      <h5 class="mb-0">
        <a data-toggle="collapse" data-parent="#accordion1" href="#collapseOne1" (click)="isOpen = !isOpen" aria-expanded="true" aria-controls="collapseOne">
          <i class="fa" [ngClass]="(isOpen)? 'fa-chevron-up ':'fa-chevron-down '"></i>
            Seleccionar Barrio
        </a>
      </h5>
    </div>

    <div id="collapseOne1" class="collapse show" role="tabpanel" aria-labelledby="headingOne1">
      <div class="card-block">


        <div class="container">
          <div class="form-group">
            <div class="row">
              <label for="prov" class="col-1 col-form-label">Provincia:</label>
              <div class="col-10">
                <select class="form-control" name="prov" #prov="ngModel" [(ngModel)]="currentProvincia" (change)="provChange(prov.value)" id="prov">
           <option *ngFor="let item of provincias"
                   [ngValue]="item"
                   class="option"
                   [class.selected]="item == currentProvincia">
                    {{item.nombre }}
          </option>
        </select>
              </div>
            </div>
            <br>

            <div *ngIf="(localidadesOK === false && currentProvincia != null)" class="text-center">Cargando...
              <i class="fa fa-spinner fa-spin fa-3x " aria-hidden="true"></i>
            </div>

            <div class="row" *ngIf="(currentProvincia != null && localidadesOK === true)">

              <label for="local" class="col-1 col-form-label">Localidad:</label>
              <div class="col-md-10">
                <select class="form-control" name="local" #local="ngModel" [(ngModel)]="currentLocalidad" (change)="localChange(local.value)" id="local">
         <option *ngFor="let item of localidades"
                 [ngValue]="item"
                 class="option"
                 [class.selected]="item == currentLocalidad">
                 {{item.nombre}}
         </option>
        </select>
              </div>
            </div>
            <br>

            <div class="row" [hidden]="currentLocalidad === null">
              <label for="cuadra" class="col-1 col-form-label">Sector:</label>
              <div class="col-md-10">
                <select class="form-control" name="cuadra" #cuadra="ngModel" [(ngModel)]="currentCuadrante" (change)="cuadraChange(cuadra.value)" id="cuadra">
         <option *ngFor="let item of cuadrantes"
                 [ngValue]="item"
                 class="option"
                 [class.selected]="item == currentCuadrante">
                 {{item.nombre}}
        </option>
       </select>
              </div>
            </div>
            <br>

            <div class="row" [hidden]="currentCuadrante === null">
              <label for="barrio" class="col-1 col-form-label">Barrio:</label>
              <div class="col-md-10">
                <select class="form-control" name="barrio" #barrio="ngModel" [(ngModel)]="currentBarrio" (change)="barrioChange(barrio.value)" id="barrio">
         <option *ngFor="let item of barrios"
                 [ngValue]="item"
                 class="option"
                 [class.selected]="item == currentBarrio">
                 {{item.nombre}}
        </option>
       </select>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>

<div class="animated fadeIn fast" *ngIf="currentBarrio">
  <app-criterio [barrio]="currentBarrio"></app-criterio>
</div>
